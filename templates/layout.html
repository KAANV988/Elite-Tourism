<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-M">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- The title will be passed from other templates -->
    <title>{{ title }} - Elite Tourism</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- LoadInter font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- 
      This is the magic!
      'url_for' is a Python function that finds the file.
      This tells Flask: "Go to the 'static' folder and find 'style.css'".
    -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="antialiased">

    <!-- Header / Navbar -->
    <header id="navbar" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 navbar-glass">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <!-- Logo -->
            <a href="{{ url_for('home') }}" class="text-3xl font-extrabold text-white">
                Elite<span class="accent-color">Tourism</span>
            </a>

            <!-- Desktop Nav -->
            <div class="hidden md:flex items-center space-x-8">
                <!-- We use url_for('home') to link to the homepage route -->
                <a href="{{ url_for('home') }}#home" class="text-gray-200 hover:accent-color transition-colors duration-300">Home</a>
                <a href="{{ url_for('home') }}#destinations" class="text-gray-200 hover:accent-color transition-colors duration-300">Destinations</a>
                <a href="{{ url_for('home') }}#about" class="text-gray-200 hover:accent-color transition-colors duration-300">About</a>
                <a href="{{ url_for('home') }}#contact" class="text-gray-200 hover:accent-color transition-colors duration-300">Contact</a>
            </div>

            <!-- Auth Buttons -->
            <div class="hidden md:flex items-center space-x-4">
                <!-- 
                  This 'if' block is powered by Python!
                  It checks if the user is logged in.
                -->
                {% if current_user.is_authenticated %}
                    <!-- Show Dashboard and Logout if user is logged in -->
                    <a href="{{ url_for('dashboard') }}" class="text-gray-200 hover:accent-color transition-colors duration-300">Dashboard</a>
                    <a href="{{ url_for('logout') }}" class="bg-red-600 text-white font-bold py-2 px-6 rounded-full shadow-lg transition-all duration-300 hover:bg-red-500 transform hover:-translate-y-0.5">
                        Logout
                    </a>
                {% else %}
                    <!-- Show Login and Register if user is logged out -->
                    <a href="{{ url_for('login') }}" class="text-gray-200 hover:accent-color transition-colors duration-300">Login</a>
                    <a href="{{ url_for('register') }}" class="bg-accent-color text-gray-900 font-bold py-2 px-6 rounded-full shadow-lg transition-all duration-300 hover:bg-amber-400 hover:shadow-amber-400/30 transform hover:-translate-y-0.5">
                        Register
                    </a>
                {% endif %}
            </div>

            <!-- Mobile Menu Button -->
            <button id="mobile-menu-button" class="md:hidden text-white focus:outline-none">
                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                </svg>
            </button>
        </nav>

        <!-- Mobile Menu (Hidden by default) -->
        <div id="mobile-menu" class="hidden md:hidden bg-gray-900/90 backdrop-blur-sm">
            <a href="{{ url_for('home') }}#home" class="block text-gray-200 py-3 px-6 text-center hover:bg-gray-800 transition-colors duration-300">Home</a>
            <a href="{{ url_for('home') }}#destinations" class="block text-gray-200 py-3 px-6 text-center hover:bg-gray-800 transition-colors duration-300">Destinations</a>
            <a href="{{ url_for('home') }}#about" class="block text-gray-200 py-3 px-6 text-center hover:bg-gray-800 transition-colors duration-3D">About</a>
            <a href="{{ url_for('home') }}#contact" class="block text-gray-200 py-3 px-6 text-center hover:bg-gray-800 transition-colors duration-300">Contact</a>
            
            <div class="border-t border-gray-700 my-2"></div>

            {% if current_user.is_authenticated %}
                <a href="{{ url_for('dashboard') }}" class="block text-gray-200 py-3 px-6 text-center hover:bg-gray-800 transition-colors duration-300">Dashboard</a>
                <a href="{{ url_for('logout') }}" class="block bg-red-600 text-white font-bold py-3 px-6 text-center m-4 rounded-full">
                    Logout
                </a>
            {% else %}
                <a href="{{ url_for('login') }}" class="block text-gray-200 py-3 px-6 text-center hover:bg-gray-800 transition-colors duration-300">Login</a>
                <a href="{{ url_for('register') }}" class="block bg-accent-color text-gray-900 font-bold py-3 px-6 text-center m-4 rounded-full">
                    Register
                </a>
            {% endif %}
        </div>
    </header>

    <!-- This block will be replaced by content from other files -->
    <div class="pt-16"> <!-- Added padding-top to offset the fixed navbar -->
        
        <!-- This is where Flash Messages (e.g., "Logged in successfully") will appear -->
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            <div class="container mx-auto px-6 py-4">
              {% for category, message in messages %}
                <!-- 
                  We map 'error' to red-500 and 'success' to green-500.
                -->
                {% set category_class = 'bg-red-500' if category == 'error' else 'bg-green-500' %}
                <div class="{{ category_class }} text-white p-4 rounded-lg mb-4 shadow-lg" role="alert">
                  {{ message }}
                </div>
              {% endfor %}
            </div>
          {% endif %}
        {% endwith %}

        <!-- 
          This is the "empty space" in the frame.
          This block is where the picture (our other HTML files) will go.
        -->
        {% block content %}{% endblock %}
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 border-t border-gray-800 pt-16 pb-8">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-12">
                <!-- Logo & Socials -->
                <div>
                    <a href="{{ url_for('home') }}" class="text-2xl font-extrabold text-white">
                        Elite<span class="accent-color">Tourism</span>
                    </a>
                    <p class="text-gray-400 mt-4">Curating the world's finest travel experiences.</p>
                </div>

                <!-- Quick Links -->
                <div>
                    <h4 class="text-lg font-bold text-white mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="{{ url_for('home') }}#home" class="text-gray-400 hover:accent-color transition-colors duration-300">Home</a></li>
                        <li><a href="{{ url_for('home') }}#destinations" class="text-gray-400 hover:accent-color transition-colors duration-300">Destinations</a></li>
                        <li><a href="{{ url_for('home') }}#contact" class="text-gray-400 hover:accent-color transition-colors duration-300">Contact</a></li>
                    </ul>
                </div>

                <!-- Legal -->
                <div>
                    <h4 class="text-lg font-bold text-white mb-4">Legal</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:accent-color transition-colors duration-300">Privacy Policy</a></li>
                        <li><a href="#" class="text-gray-400 hover:accent-color transition-colors duration-300">Terms of Service</a></li>
                    </ul>
                </div>

                <!-- Contact -->
                <div>
                    <h4 class="text-lg font-bold text-white mb-4">Contact Us</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li>elitetourism2026@gmail.com</li>
                        <li>+91 9948217336</li>
                        <li>123 Luxury Ave, Suite 100<br>Beverly Hills, CA 90210</li>
                    </ul>
                </div>
            </div>
            
            <!-- Copyright -->
            <div class="border-t border-gray-800 pt-8 text-center text-gray-500">
                <p>&copy; <span id="current-year"></span> Elite Tourism. All rights reserved.</p>
            </div>
        </div>
    </footer>


    <!-- 
      This links to our 'script.js' file.
      It's also using 'url_for' to find it in the 'static' folder.
    -->
    <script src="{{ url_for('static', filename='script.js') }}" defer></script>
</body>
</html>